<div class="flex">
  <div class="height" id="reload">
    <div class="profileEmp">
      <img class="avatar" src="{{ this.userData?.avatar }}" alt="avatar" />
      <div class="userActivity">
        <span class="username" id="board">Board #{{ this.board?.number }}</span>
        <span class="username">{{ this.userData?.name }}</span>
        <span>{{ this.time }}</span>
      </div>
      <mat-icon class="iconBack" routerLink="/board">keyboard_backspace</mat-icon>
    </div>
    <ng-container *ngIf="cart.length == 0; else elseBlock">
      <p class="empty">The Cart Is Empty!</p>
    </ng-container>
    <ng-template #elseBlock>
      <hr />
      <div class="overflow">
        <div *ngFor="let item of cart" (click)="openProductDialog(item.product.id)">
          <div class="line">
            <mat-icon class="x" (click)="removeProduct(item.product.id)" (click)="totalPrice()">close</mat-icon>
            <span *ngIf="this.cart">{{ item.product.name }} </span>
            <span class="iva_card">{{item.product.iva * 100}}%</span>
            <span class="price_card">{{ item.product.price }}€</span>
            <span class="quantity">{{ item.quantity }}</span>
          </div>
          <hr style="width: 100%; height: 1px" />
        </div>
      </div>
      <div class="flexBottom">
        <div style="display: flex; flex-direction: column; font-family: Ubuntu">
          <span class="totalPrice">Total: {{ this.total }}€</span>
          <span class="iva">Tax: {{ this.totalIva }}</span>
        </div>
        <button id="pay" routerLink="/payment">PAY</button>
      </div>
    </ng-template>
  </div>
  <div class="alignSlider">
    <div class="flexSearch">
      <p class="category">Choose Category</p>
      <div class="searchBar">
        <input (click)="openDialog();" matInput [(ngModel)]="item" class="searchField" type="text" id="searchBar"
          placeholder="Press here to search category or itens..." />
        <mat-icon class="searchIcon">search</mat-icon>
      </div>
    </div>

    <swiper [slidesPerView]="8" [spaceBetween]="30" [freeMode]="true" [pagination]="{
      clickable: true
    }">
      <ng-template swiperSlide *ngFor="let cat of categories; index as i" class="test">
        <div id="card {{cat.id}}" (click)="getCategoryItems(cat.id); selectCategory(cat.id); getSubCategory(cat.id)">
          <img id="image {{cat.id}}" src="{{cat.image}}" alt="">
          <p class="categoryName">{{cat.name}}</p>
        </div>
      </ng-template>
    </swiper>

    <swiper [slidesPerView]="8" [spaceBetween]="30" [freeMode]="true" [pagination]="{clickable: true}"
      style="margin-top: 20px; margin-left: 50px; margin-bottom: -15px;">
      <ng-template swiperSlide *ngFor="let sub of subCategories; index as i">
        <div id="cardSub {{sub.id}}" (click)="getSubCategoryItems(sub.id); selectSubCategory(sub.id)">
          <img id="image {{sub.id}}" src="{{sub.image}}" alt="">
          <p class="categoryName">{{sub.name}}</p>
        </div>
      </ng-template>
    </swiper>


    <div class="alignGrid">
      <mat-grid-list cols="5" rowHeight="210px" gutterSize="40px">
        <mat-grid-tile *ngFor="let prod of categoryItems">
          <div class="card" id="{{ prod.id }}" (click)="addProduct(prod.id); getProductsId()">
            <img class="productImg" src="{{ prod.image }}" alt="" />
            <span class="productName">{{ prod.name }}</span>
            <span class="productWeight">{{ prod.unity_value }} {{prod.sub_unity}}</span>
            <span class="productPrice">{{ prod.price }}€</span>
          </div>
        </mat-grid-tile>
      </mat-grid-list>
    </div>
  </div>
</div>